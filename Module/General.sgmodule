#!name=Advanced Settings & URL Redirect
#!desc=高级设置及通用的 URL 重定向优化（如 Google 搜索及地图、AbeamTV 区域限制等）

[General]
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 5
dns-server = 119.29.29.29, 223.5.5.5, 223.6.6.6, system
loglevel = notify

# > 当遇到 REJECT 策略时返回错误页
show-error-page-for-reject = true

# > 跳过代理
skip-proxy = %APPEND% passenger.t3go.cn

# > 排除简单主机名
exclude-simple-hostnames = true

# > Always Real IP Hosts
always-real-ip = %APPEND% msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net

# > TCP Force HTTP Hosts
force-http-engine-hosts = *.ott.cibntv.net,123.59.31.1,119.18.193.135,122.14.246.33,175.102.178.52

# > VIF Excluded Routes
tun-excluded-routes = %APPEND% 239.255.255.250/32

[URL Rewrite]
# Redirect Google Search Service
^(http|https):\/\/(www.)?(g|google)\.(cn|com\.hk) https://www.google.com.tw 302

# Redirect Google Maps Service
^(http|https):\/\/(ditu|maps).google\.(cn|com\.hk) https://maps.google.com 302

# Redirect HTTP to HTTPS
^(http|https):\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^(http|https):\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^(http|https):\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^(http|https):\/\/you\.163\.com\/ https://you.163.com/ 302
^(http|https):\/\/(www.)?suning\.com\/ https://suning.com/ 302
^(http|https):\/\/(www.)?yhd\.com\/ https://yhd.com/ 302

# Weibo Short URL
^http:\/\/t\.cn http://sinaurl.cn 302

# Redirect False to True
# > IGN China to IGN Global
^(http|https):\/\/(www.)?ign\.xn--fiqs8s\/ http://cn.ign.com/ccpref/us 302
# > Fake Website Made By C&J Marketing
^(http|https):\/\/(www.)?abbyychina\.com\/ https://www.abbyy.cn/ 302
^(http|https):\/\/(www.)?bartender\.cc\/ https://www.macbartender.com/ 302
^(http|https):\/\/(www.)?(betterzipcn|betterzip)\.(com|net)\/ https://macitbetter.com/ 302
^(http|https):\/\/(www.)?beyondcompare\.cc\/ https://www.scootersoftware.com/ 302
^(http|https):\/\/(www.)?bingdianhuanyuan\.cn\/ https://www.faronics.com/zh-hans/products/deep-freeze 302
^(http|https):\/\/(www.)?chemdraw\.com\.cn\/ https://www.perkinelmer.com.cn/ 302
^(http|https):\/\/(www.)?codesoftchina\.com\/ https://www.teklynx.com/ 302
^(http|https):\/\/(www.)?coreldrawchina\.com\/ https://www.coreldraw.com/cn/ 302
^(http|https):\/\/(www.)?crossoverchina\.com\/ https://www.codeweavers.com/ 302
^(http|https):\/\/(www.)?dongmansoft\.com\/ https://www.udongman.cn/ 302
^(http|https):\/\/(www.)?earmasterchina\.cn\/ https://www.earmaster.com/ 302
^(http|https):\/\/(www.)?easyrecoverychina\.com\/ https://www.ontrack.com/ 302
^(http|https):\/\/(www.)?ediuschina\.com\/ https://www.grassvalley.com/ 302
^(http|https):\/\/(www.)?flstudiochina\.com\/ https://www.image-line.com/ 302
^(http|https):\/\/(www.)?formysql\.com\/ https://www.navicat.com.cn/ 302
^(http|https):\/\/(www.)?guitarpro\.cc\/ https://www.guitar-pro.com/ 302
^(http|https):\/\/(www.)?huishenghuiying\.com\.cn\/ https://www.coreldraw.com/cn/ 302
^(http|https):\/\/hypersnap\.mairuan\.com\/ https://www.hyperionics.com/ 302
^(http|https):\/\/(www.)?iconworkshop\.cn\/ https://www.axialis.com/ 302
^(http|https):\/\/(www.)?idmchina\.net\/ https://www.internetdownloadmanager.com/ 302
^(http|https):\/\/(www.)?imindmap\.cc\/ https://www.ayoa.com/previously-imindmap/ 302
^(http|https):\/\/(www.)?jihehuaban\.com\.cn\/ https://www.chartwellyorke.com/sketchpad/x24795.html 302
^(http|https):\/\/hypersnap\.mairuan\.com\/ https://www.keyshot.com/ 302
^(http|https):\/\/(www.)?kingdeecn\.cn\/ http://www.kingdee.com/ 302
^(http|https):\/\/(www.)?logoshejishi\.com https://www.sothink.com/product/logo-design-software/ 302
^(http|https):\/\/logoshejishi\.mairuan\.com\/ https://www.sothink.com/product/logo-design-software/ 302
^(http|https):\/\/(www.)?luping\.net\.cn\/ https://www.techsmith.com/ 302
^(http|https):\/\/(www.)?mathtype\.cn\/ https://www.dessci.com/ 302
^(http|https):\/\/(www.)?mindmanager\.(cc|cn)\/ https://www.mindjet.com/cn/ 302
^(http|https):\/\/(www.)?mindmapper\.cc\/ https://www.mindmapper.com/ 302
^(http|https):\/\/(www.)?(mycleanmymac|xitongqingli)\.com\/ https://macpaw.com/ 302
^(http|https):\/\/(www.)?nicelabel\.cc\/ https://www.nicelabel.com/zh/ 302
^(http|https):\/\/(www.)?ntfsformac\.cc\/ https://www.tuxera.com/products/tuxera-ntfs-for-mac-cn/ 302
^(http|https):\/\/(www.)?ntfsformac\.cn\/ https://china.paragon-software.com/home-mac/ntfs-for-mac/ 302
^(http|https):\/\/(www.)?overturechina\.com\/ https://sonicscores.com/ 302
^(http|https):\/\/(www.)?passwordrecovery\.cn\/ https://cn.elcomsoft.com/aopr.html 302
^(http|https):\/\/(www.)?pdfexpert\.cc\/ https://pdfexpert.com/zh 302
^(http|https):\/\/(www.)?photozoomchina\.com\/ https://www.benvista.com/ 302
^(http|https):\/\/(www.)?shankejingling\.com\/ https://www.sothink.com/product/flashdecompiler/ 302
^(http|https):\/\/cn\.ultraiso\.net\/ https://cn.ezbsystems.com/ultraiso/ 302
^(http|https):\/\/(www.)?vegaschina\.cn\/ https://www.vegascreativesoftware.com/ 302
^(http|https):\/\/(www.)?xshellcn\.com\/ https://www.netsarang.com/zh/xshell/ 302
^(http|https):\/\/(www.)?yuanchengxiezuo\.com\/ https://www.teamviewer.com/ 302
^(http|https):\/\/(www.)?zbrushcn.com/ https://pixologic.com/ 302

# AbeamTV - api.abema.io
^(http|https):\/\/api\.abema\.io\/v\d\/ip\/check - reject

[MITM]
hostname = www.google.cn, api.abema.io, *.google.com.hk
skip-server-cert-verify = true
ca-passphrase = 71B97961
ca-p12 = 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
